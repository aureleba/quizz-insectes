<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Quiz â€“ Cliquer sur les insectes</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background:#f5f5f5;
        text-align:center;
        margin:0;
        padding:20px;
    }
    #container {
        position: relative;
        display: inline-block;
    }
    #quiz-image {
        max-width:100%;
        height:auto;
        display:block;
    }
    .zone {
        position:absolute;
        cursor:pointer;
        border: 2px solid rgba(0,0,0,0);
    }
    #feedback {
        margin-top:20px;
        font-size:22px;
        font-weight:bold;
    }
</style>
</head>
<body>

<h2>Quiz : Clique sur les bons insectes (3 Ã  trouver)</h2>

<div id="container">
    <img id="quiz-image" src="insectes.jpg" alt="Insectes">
</div>

<div id="feedback"></div>

<script>
// =============== CONFIGURATION ===============

// 11 zones avec coordonnÃ©es approximatives
// Mets correct:true pour les 3 bonnes rÃ©ponses

const zones = [
    { x:150, y:80,  w:230, h:220, correct:false },   // Scolia hirta
    { x:440, y:80,  w:260, h:260, correct:true  },   // Megascolia maculata âœ”
    { x:800, y:120, w:170, h:200, correct:false },   // Bombus hortorum
    { x:1020,y:160, w:180, h:240, correct:false },   // Volucella zonaria

    { x:150, y:390, w:200, h:230, correct:false },   // Chrysotoxum elegans
    { x:490, y:370, w:170, h:210, correct:true  },   // Apis mellifera âœ”
    { x:840, y:400, w:170, h:260, correct:false },   // Delta unguiculatum

    { x:500, y:670, w:220, h:230, correct:false },   // Anthidium florentinum
    { x:900, y:630, w:280, h:300, correct:true  },   // Vespa crabro âœ”
    { x:160, y:670, w:160, h:210, correct:false },   // Vespula vulgaris
    { x:850, y:900, w:200, h:260, correct:false }    // Sphex funerarius
];

let score = 0;
let gameOver = false;


// =============== CREATION DES ZONES ===============

window.onload = function() {
    const container = document.getElementById("container");
    const img = document.getElementById("quiz-image");

    img.addEventListener("load", () => {
        const ratio = img.width / img.naturalWidth;

        zones.forEach((z) => {
            const div = document.createElement("div");
            div.classList.add("zone");

            div.style.left = (z.x * ratio) + "px";
            div.style.top = (z.y * ratio) + "px";
            div.style.width = (z.w * ratio) + "px";
            div.style.height = (z.h * ratio) + "px";

            div.dataset.correct = z.correct;

            div.addEventListener("click", () => {
                if (gameOver) return;

                const feedback = document.getElementById("feedback");

                if (z.correct === true) {
                    score++;
                    div.style.border = "3px solid green";
                    div.style.pointerEvents = "none";
                    feedback.textContent = `Bonne rÃ©ponse ! Score : ${score}/3`;
                    feedback.style.color = "green";

                    if (score === 3) {
                        gameOver = true;
                        feedback.textContent = "ðŸŽ‰ Bravo ! Vous avez trouvÃ© les 3 bons insectes.";
                    }
                } else {
                    div.style.border = "3px solid red";
                    feedback.textContent = "Mauvaise rÃ©ponseâ€¦";
                    feedback.style.color = "red";
                }
            });

            container.appendChild(div);
        });
    });
};
</script>

</body>
</html>
